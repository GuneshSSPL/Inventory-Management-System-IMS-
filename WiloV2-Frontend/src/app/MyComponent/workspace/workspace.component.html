<div *appPermission="['view_workspace']">
    
  <h2>Workspaces</h2>
  <ul>
    <li *ngFor="let workspace of workspaces">
      {{ workspace.name }} - {{ workspace.description }}
      <button (click)="editWorkspace(workspace)">Edit</button>
      <button (click)="deleteWorkspace(workspace.id)">Delete</button>
    </li>
  </ul>

  <div *ngIf="editingWorkspace">
    <h3>Edit Workspace</h3>
    <form (submit)="saveWorkspace()">
      <div>
        <label for="editName">Name:</label>
        <input type="text" id="editName" name="editName" [(ngModel)]="updatedWorkspace.name" required>
      </div>
      <div>
        <label for="editDescription">Description:</label>
        <textarea id="editDescription" name="editDescription" [(ngModel)]="updatedWorkspace.description"></textarea>
      </div>
      <button type="submit">Save</button>
      <button type="button" (click)="cancelEdit()">Cancel</button>
    </form>
  </div>

  <h3>Create New Workspace</h3>
  <form (submit)="createWorkspace()">
    <div>
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" [(ngModel)]="newWorkspace.name" required>
    </div>
    <div>
      <label for="description">Description:</label>
      <textarea id="description" name="description" [(ngModel)]="newWorkspace.description"></textarea>
    </div>
    <button type="submit">Create</button>
  </form>
</div>